# Quantify 用户使用指南

[← 返回 README](README.md)

## 目录
1. [快速入门](#1-快速入门)
2. [普通用户功能](#2-普通用户功能)
3. [管理员功能](#3-管理员功能)
4. [策略配置详解](#4-策略配置详解)
5. [常见问题](#5-常见问题)

---

## 1. 快速入门

### 1.1 访问系统
- **PC端**: http://localhost:3000 或 http://your-domain.com
- **移动端**: 直接访问同一地址，自动适配

### 1.2 账号注册
1. 点击「登录」进入登录页
2. 选择「注册」选项卡
3. 输入邀请码（从管理员获取）
4. 设置用户名和密码
5. 完成注册

### 1.3 界面概览

```
┌────────────────────────────────────────────────────────────┐
│  顶部导航栏：数据类型切换 | 排序选项 | 用户菜单            │
├────────────────────────────────────────────────────────────┤
│                                                            │
│   ┌──────────┐  ┌──────────┐  ┌──────────┐               │
│   │ K线卡片1 │  │ K线卡片2 │  │ K线卡片3 │               │
│   │          │  │          │  │          │               │
│   │ 图表区域 │  │ 图表区域 │  │ 图表区域 │               │
│   │          │  │          │  │          │               │
│   └──────────┘  └──────────┘  └──────────┘               │
│                                                            │
│   [...更多卡片...]                                         │
│                                                            │
├────────────────────────────────────────────────────────────┤
│  底部分页：上一页 | 1 2 3 ... | 下一页                      │
└────────────────────────────────────────────────────────────┘
```

---

## 2. 普通用户功能

### 2.1 数据类型切换

系统支持四种数据类型：

| 类型 | 说明 | 数据量 |
|------|------|--------|
| **股票** | A股上市公司 | ~5000只 |
| **可转债** | 可转换债券 | ~500只 |
| **概念** | 概念板块指数 | ~400个 |
| **行业** | 行业板块指数 | ~100个 |

点击顶部对应标签切换数据类型。

### 2.2 排序与筛选

#### 排序选项
| 排序方式 | 说明 |
|----------|------|
| 默认排序 | 按代码排序 |
| 涨跌幅 | 按当日涨跌幅排序 |
| 成交量 | 按成交量排序 |
| 换手率 | 按换手率排序 |
| 涨速 | 按涨速排序 |
| 竞价量比 | 按竞价量倍数排序 |
| 概念热度 | 按所属概念热度排序 |
| 行业热度 | 按所属行业热度排序 |

#### 筛选功能（策略配置）
点击「策略配置」按钮进入筛选配置界面。

### 2.3 K线图表

#### 图表功能
- **周期切换**: 日线 / 周线 / 月线
- **十字线**: 鼠标悬停显示数据
- **缩放**: 鼠标滚轮或双指缩放
- **拖拽**: 鼠标拖拽查看历史

#### 技术指标
- **EXPMA**: 多条均线叠加
- **MACD**: 底部MACD指标
- **成交量**: 底部柱状图

#### 绘图工具
点击卡片右上角绘图按钮：
- 趋势线
- 水平线
- 垂直线

### 2.4 收藏功能

#### 添加收藏
- 点击卡片上的「⭐」图标
- 选择目标分组

#### 管理分组
- 点击用户菜单 → 「我的收藏」
- 创建/编辑/删除分组

#### 查看收藏
- 在排序选项中选择「收藏分组」

### 2.5 交易日历

#### 功能说明
- 点击日期选择器打开日历
- 绿色标记为交易日
- 灰色为非交易日
- 选择历史日期可回放当日数据

### 2.6 全屏模式

- 点击卡片右上角「全屏」按钮
- ESC键退出全屏
- 支持快捷键操作

---

## 3. 管理员功能

> ⚠️ 管理员功能需要管理员账号权限

访问路径: 用户菜单 → 「管理后台」

### 3.1 数据同步

#### 同步类型

| 同步项 | 说明 | 建议频率 |
|--------|------|----------|
| **股票基础数据** | 股票列表、基本信息 | 每日1次 |
| **可转债数据** | 可转债列表、赎回信息 | 每日1次 |
| **概念数据** | 概念板块、成分股 | 每周1次 |
| **行业数据** | 行业板块、成分股 | 每周1次 |
| **日K线数据** | 每日行情数据 | 每日收盘后 |
| **周K线数据** | 周级别数据 | 每周一次 |
| **热度数据** | 概念/行业热度 | 每日1次 |

#### 同步操作
1. 选择同步类型
2. 选择同步模式（增量/全量）
3. 点击「开始同步」
4. 观察进度条

#### 同步模式
- **增量同步**: 只同步增量数据，速度快
- **全量同步**: 重新同步全部数据，耗时较长

### 3.2 定时任务

#### 任务管理
- 查看所有定时任务
- 启用/禁用任务
- 手动触发执行

#### Cron配置示例
```
0 18 * * 1-5    # 每个交易日下午6点
0 0 * * 6       # 每周六凌晨
```

### 3.3 用户管理

#### 邀请码管理
- 生成新邀请码
- 查看已使用邀请码
- 设置邀请码有效期

#### 用户列表
- 查看所有用户
- 设置用户角色
- 禁用/启用账户

### 3.4 策略推送

#### 同花顺推送配置
1. 配置同花顺Cookie
2. 选择目标自选股分组
3. 配置推送策略参数
4. 设置推送条件

#### 推送模式
- **替换模式**: 清空后添加
- **追加模式**: 追加到现有列表
- **清除模式**: 只清空不添加

---

## 4. 策略配置详解

### 4.1 策略配置入口

点击「策略配置」按钮打开配置窗口。

### 4.2 数据筛选

| 筛选项 | 说明 |
|--------|------|
| **概念筛选** | 只保留属于指定概念的股票 |
| **行业筛选** | 只保留属于指定行业的股票 |
| **市值筛选** | 按流通市值范围筛选 |
| **板块排除** | 排除ST/创业板/科创板/北交所 |

### 4.3 量条件

筛选成交量符合条件的标的。

| 参数 | 说明 | 默认值 |
|------|------|--------|
| **数据源** | 竞价量/高开量/首爆量 | 竞价量 |
| **回溯天数** | 用于计算均值的天数 | 5 |
| **倍数阈值** | 当日量是均值的多少倍 | 2 |

### 4.4 价条件

#### 振幅筛选
筛选平均振幅大于阈值的标的。

| 参数 | 说明 | 默认值 |
|------|------|--------|
| **振幅窗口** | 计算平均振幅的天数 | 20 |
| **最小振幅** | 平均振幅阈值(%) | 3 |

#### 涨停筛选
筛选历史涨停次数符合条件的标的。

| 参数 | 说明 | 默认值 |
|------|------|--------|
| **统计窗口** | 统计涨停的天数范围 | 250 |
| **最少次数** | 最少涨停次数 | 1 |

> 💡 涨停判定：主板10%，创业板/科创板20%

### 4.5 趋势条件

#### 条件1：均线排列
筛选AB线呈多头或空头排列的标的。

| 参数 | 说明 |
|------|------|
| **观察窗口** | M日内的排列情况 |
| **涨选项** | 选择多头排列的线（A1-A4, B1-B4） |
| **跌选项** | 选择空头排列的线 |

#### 条件2：EXPMA偏离
筛选价格相对EXPMA偏离符合条件的标的。

| 参数 | 说明 | 默认值 |
|------|------|--------|
| **EXPMA周期** | 使用的均线周期 | 250 |
| **价格类型** | 使用收盘价/最高价/最低价 | 收盘价 |
| **偏离阈值** | 偏离百分比 | 2% |
| **观察窗口** | 多少天内达到阈值 | 5 |

#### 条件3：趋势收敛
筛选两条线趋于收敛的标的。

### 4.6 执行与历史

#### 执行策略
配置完成后点击「执行策略」开始筛选。

#### 执行历史
- 查看历史执行记录
- 应用历史结果到当前列表
- 重建历史参数

#### 保存预设
- 保存当前配置为预设
- 方便日后快速调用

---

## 5. 常见问题

### Q: 如何获取邀请码？
A: 请联系系统管理员获取邀请码。

### Q: 数据多久更新一次？
A: 取决于管理员配置的定时任务，通常每日收盘后更新。

### Q: 策略执行结果为空？
A: 可能是筛选条件过于严格，尝试放宽条件。

### Q: 移动端显示异常？
A: 尝试刷新页面或切换浏览器。

### Q: 如何同步到最新数据？
A: 联系管理员手动触发数据同步。

### Q: K线图表不显示？
A: 检查网络连接，尝试刷新页面。

### Q: 收藏不见了？
A: 确认是否登录了正确的账号。

---

[← 返回 README](README.md) | [开发者指南 →](DEVELOPER_GUIDE.md)
